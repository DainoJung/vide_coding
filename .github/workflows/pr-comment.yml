name: PR ìë™ ëŒ“ê¸€

on:
  pull_request:
    types: [opened, synchronize]

jobs:
  comment:
    runs-on: ubuntu-latest
    steps:
    - name: PR í™˜ì˜ ëŒ“ê¸€
      if: github.event.action == 'opened'
      uses: actions/github-script@v7
      with:
        script: |
          const welcomeMessage = `ğŸ‘‹ ì•ˆë…•í•˜ì„¸ìš”! **VideCoding** í”„ë¡œì íŠ¸ì— ê¸°ì—¬í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤!

          ## ğŸ“‹ PR ì²´í¬ë¦¬ìŠ¤íŠ¸
          - [ ] ì½”ë“œê°€ í”„ë¡œì íŠ¸ ìŠ¤íƒ€ì¼ ê°€ì´ë“œë¥¼ ë”°ë¥´ë‚˜ìš”?
          - [ ] ë³€ê²½ì‚¬í•­ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ê°€ ì¶”ê°€ë˜ì—ˆë‚˜ìš”?
          - [ ] ëª¨ë“  í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•˜ë‚˜ìš”?
          - [ ] ë¬¸ì„œê°€ ì—…ë°ì´íŠ¸ë˜ì—ˆë‚˜ìš”?

          ## ğŸ” ìë™ ê²€ì‚¬ ì§„í–‰ ì¤‘
          - âœ… ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬
          - âœ… í…ŒìŠ¤íŠ¸ ì‹¤í–‰
          - âœ… ë³´ì•ˆ ê²€ì‚¬

          ë¦¬ë·°ì–´ê°€ ê³§ ê²€í† í•´ë“œë¦´ ì˜ˆì •ì…ë‹ˆë‹¤. ê¶ê¸ˆí•œ ì ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“  ëŒ“ê¸€ë¡œ ë¬¸ì˜í•´ì£¼ì„¸ìš”! ğŸš€`;

          github.rest.issues.createComment({
            issue_number: context.issue.number,
            owner: context.repo.owner,
            repo: context.repo.repo,
            body: welcomeMessage
          });

    - name: PR ì—…ë°ì´íŠ¸ ëŒ“ê¸€
      if: github.event.action == 'synchronize'
      uses: actions/github-script@v7
      with:
        script: |
          const updateMessage = `ğŸ”„ **PRì´ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤!**

          ìƒˆë¡œìš´ ì»¤ë°‹ì´ ì¶”ê°€ë˜ì–´ ìë™ ê²€ì‚¬ë¥¼ ë‹¤ì‹œ ì‹¤í–‰í•©ë‹ˆë‹¤.
          
          ë³€ê²½ì‚¬í•­:
          - ì»¤ë°‹ SHA: \`${context.sha.substring(0, 7)}\`
          - ì—…ë°ì´íŠ¸ ì‹œê°„: ${new Date().toLocaleString('ko-KR')}

          ê²€ì‚¬ ì™„ë£Œ í›„ ê²°ê³¼ë¥¼ ì•Œë ¤ë“œë¦¬ê² ìŠµë‹ˆë‹¤! âš¡`;

          github.rest.issues.createComment({
            issue_number: context.issue.number,
            owner: context.repo.owner,
            repo: context.repo.repo,
            body: updateMessage
          }); 